<div id="modalSeleccionAvatar" class="modal-backdrop" style="display:none;">
  <div class="modal-content">
    <div class="modal-header">
      <h3>游끥 Elige tu Avatar</h3>
      <button class="modal-close" onclick="cerrarModalAvatar()">칑</button>
    </div>
    
    <div class="avatar-grid">
      <!-- El contenido se genera din치micamente seg칰n el nivel del usuario -->
    </div>

    <div class="modal-actions">
      <button class="btn-secondary" onclick="cerrarModalAvatar()">Cancelar</button>
    </div>
  </div>
</div>


<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mi Perfil - Booksy</title>
    
    <link rel="stylesheet" href="../css/perfilstyles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" href="../css/componentes/loader.css">
    <link rel="stylesheet" href="../css/componentes/notificaciones.css">
</head>
<body>


    <div class="perfil-wrapper">
        <div class="perfil-layout">
            <aside class="perfil-sidebar">
                <div class="profile-photo" id="profilePhotoContainer" onclick="abrirModalAvatar()" title="Cambiar avatar">
                    <img id="currentAvatarImg" src="../images/avatars/River.png" alt="Avatar actual" style="display: none;">
                    <i id="defaultAvatarIcon" class="fa-solid fa-user"></i>
                </div>
                <h3 id="sidebar-name">@usuario</h3>
                <span id="sidebar-tag">Rol: <strong id="info-role">Cargando...</strong></span>

                <div class="sidebar-actions">
                    <button id="showEditProfileBtn" class="btn-primary-sidebar active-btn" data-target="edit-profile">Editar perfil</button>
                    <button id="showChangePasswordBtn" class="btn-secondary-sidebar" data-target="change-password">Cambiar contrase침a</button>
                    
                    <button id="showMyClubsBtn" class="btn-secondary-sidebar" data-target="my-clubs">Mis clubes</button>
                </div>
                
                <div class="sidebar-info">
                    <h4>Informaci칩n</h4>
                    <p>Email: <span id="info-email">cargando@email.com</span></p>
                </div>

                <div class="global-actions">
                    <button onclick="window.location.href='main.html'" class="btn-back">Volver a inicio</button>
                    <button id="logoutBtn" class="btn-logout">Cerrar sesi칩n</button>
                    <button id="deleteAccountBtn" class="btn-danger">Eliminar mi cuenta</button>
                </div>
            </aside>

            <main class="perfil-main-content">
                
                <section id="edit-profile" class="form-section active">
                    <h2>Mi Perfil</h2>
                    <p class="subtitle">Aqu칤 puedes ver y editar tus datos de usuario.</p>
                    
                    <form id="perfilForm" class="edit-form">
                        <div class="form-group full-width">
                            <label for="username">Usuario</label>
                            <input type="text" id="username" required>
                        </div>

                        <div class="form-group full-width">
                            <label for="email">Email</label>
                            <input type="email" id="email" readonly>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Guardar cambios</button>
                            </div>
                        
                        <p class="form-note">Nota: El email no es editable. La contrase침a se cambia en la secci칩n separada.</p>
                    </form>
                </section>

                <section id="change-password" class="form-section" style="display:none;">
                    <h2><i class="fa-solid fa-lock"></i> Cambiar contrase침a</h2>
                    <p class="subtitle">Actualiza tu contrase침a para mantener tu cuenta segura.</p>

                    <form id="passwordForm" class="edit-form">
                        <div class="form-group full-width">
                            <label for="currentPassword">Contrase침a actual</label>
                            <input type="password" id="currentPassword" required placeholder="Ingresa tu contrase침a actual">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="newPassword">Nueva contrase침a</label>
                                <input type="password" id="newPassword" required placeholder="M칤nimo 8 caracteres">
                            </div>
                            <div class="form-group">
                                <label for="confirmPassword">Confirmar contrase침a</label>
                                <input type="password" id="confirmPassword" required placeholder="Repite la nueva contrase침a">
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Cambiar contrase침a</button>
                            <button type="button" id="cancelPasswordBtn" class="btn-secondary">Cancelar</button>
                        </div>
                        <p class="form-note">Recomendaci칩n: usa una contrase침a segura con al menos 8 caracteres, incluyendo may칰sculas, min칰sculas y n칰meros.</p>
                    </form>
                </section>
                <section id="my-clubs" class="form-section" style="display:none;">
                    <h2>Mis Clubes</h2>
                    <p class="subtitle">Aqu칤 puedes ver los clubes a los que est치s suscrito y gestionar tu membres칤a.</p>

                    <div id="clubs-list" class="clubs-container">
                        <p class="loading-message">Cargando clubes...</p>
                    </div>
                </section>

            </main>
        </div>
    </div>
<div id="notifications" class="notification-container"></div>
   <script type="module" src="../js/perfil.js"></script>
</body>
</html>