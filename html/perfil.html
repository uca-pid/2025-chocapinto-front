<div id="modalSeleccionAvatar" class="modal-backdrop" style="display:none;">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Elige tu Avatar</h3>
      <button class="modal-close" onclick="cerrarModalAvatar()">×</button>
    </div>
    
    <div class="avatar-grid">
      <img src="../images/avatars/River.png" class="avatar-option" onclick="seleccionarAvatar('River.png')" alt="River Plate">
      <img src="../images/avatars/Boca.png" class="avatar-option" onclick="seleccionarAvatar('Boca.png')" alt="Boca Juniors">
      <img src="../images/avatars/Racing.png" class="avatar-option" onclick="seleccionarAvatar('Racing.png')" alt="Racing">
      <img src="../images/avatars/Independiente.png" class="avatar-option" onclick="seleccionarAvatar('Independiente.png')" alt="Independiente">
      <img src="../images/avatars/San Lorenzo.png" class="avatar-option" onclick="seleccionarAvatar('San Lorenzo.png')" alt="San Lorenzo">
      <img src="../images/avatars/Huracán.png" class="avatar-option" onclick="seleccionarAvatar('Huracán.png')" alt="Huracán">
      <img src="../images/avatars/Estudiantes.png" class="avatar-option" onclick="seleccionarAvatar('Estudiantes.png')" alt="Estudiantes">
      <img src="../images/avatars/Gimnasia.png" class="avatar-option" onclick="seleccionarAvatar('Gimnasia.png')" alt="Gimnasia">
      <img src="../images/avatars/Vélez.png" class="avatar-option" onclick="seleccionarAvatar('Vélez.png')" alt="Vélez">
      <img src="../images/avatars/Lanús.png" class="avatar-option" onclick="seleccionarAvatar('Lanús.png')" alt="Lanús">
      <img src="../images/avatars/Banfield.png" class="avatar-option" onclick="seleccionarAvatar('Banfield.png')" alt="Banfield">
      <img src="../images/avatars/Newells.png" class="avatar-option" onclick="seleccionarAvatar('Newells.png')" alt="Newell's">
      <img src="../images/avatars/Rosario Ctral.png" class="avatar-option" onclick="seleccionarAvatar('Rosario Ctral.png')" alt="Rosario Central">
      <img src="../images/avatars/Talleres.png" class="avatar-option" onclick="seleccionarAvatar('Talleres.png')" alt="Talleres">
      <img src="../images/avatars/Belgrano.png" class="avatar-option" onclick="seleccionarAvatar('Belgrano.png')" alt="Belgrano">
      <img src="../images/avatars/Instituto.png" class="avatar-option" onclick="seleccionarAvatar('Instituto.png')" alt="Instituto">
    </div>

    <div class="modal-actions">
      <button class="btn-secondary" onclick="cerrarModalAvatar()">Cancelar</button>
    </div>
  </div>
</div>


<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mi Perfil - Booksy</title>
    
    <link rel="stylesheet" href="../css/perfilstyles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" href="../css/componentes/loader.css">
    <link rel="stylesheet" href="../css/componentes/notificaciones.css">
</head>
<body>


    <div class="perfil-wrapper">
        <div class="perfil-layout">
            <aside class="perfil-sidebar">
                <div class="profile-photo" id="profilePhotoContainer" onclick="abrirModalAvatar()" title="Cambiar avatar">
                    <img id="currentAvatarImg" src="../images/avatars/River.png" alt="Avatar actual" style="display: none;">
                    <i id="defaultAvatarIcon" class="fa-solid fa-user"></i>
                </div>
                <h3 id="sidebar-name">@usuario</h3>
                <span id="sidebar-tag">Rol: <strong id="info-role">Cargando...</strong></span>

                <div class="sidebar-actions">
                    <button id="showEditProfileBtn" class="btn-primary-sidebar active-btn" data-target="edit-profile">Editar perfil</button>
                    <button id="showChangePasswordBtn" class="btn-secondary-sidebar" data-target="change-password">Cambiar contraseña</button>
                    
                    <button id="showMyClubsBtn" class="btn-secondary-sidebar" data-target="my-clubs">Mis clubes</button>
                </div>
                
                <div class="sidebar-info">
                    <h4>Información</h4>
                    <p>Email: <span id="info-email">cargando@email.com</span></p>
                </div>

                <div class="global-actions">
                    <button onclick="window.location.href='main.html'" class="btn-back">Volver a inicio</button>
                    <button id="deleteAccountBtn" class="btn-danger">Eliminar mi cuenta</button>
                </div>
            </aside>

            <main class="perfil-main-content">
                
                <section id="edit-profile" class="form-section active">
                    <h2>Mi Perfil</h2>
                    <p class="subtitle">Aquí puedes ver y editar tus datos de usuario.</p>
                    
                    <form id="perfilForm" class="edit-form">
                        <div class="form-group full-width">
                            <label for="username">Usuario</label>
                            <input type="text" id="username" required>
                        </div>

                        <div class="form-group full-width">
                            <label for="email">Email</label>
                            <input type="email" id="email" readonly>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Guardar cambios</button>
                            </div>
                        
                        <p class="form-note">Nota: El email no es editable. La contraseña se cambia en la sección separada.</p>
                    </form>
                </section>

                <section id="change-password" class="form-section" style="display:none;">
                    <h2><i class="fa-solid fa-lock"></i> Cambiar contraseña</h2>
                    <p class="subtitle">Actualiza tu contraseña para mantener tu cuenta segura.</p>

                    <form id="passwordForm" class="edit-form">
                        <div class="form-group full-width">
                            <label for="currentPassword">Contraseña actual</label>
                            <input type="password" id="currentPassword" required placeholder="Ingresa tu contraseña actual">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="newPassword">Nueva contraseña</label>
                                <input type="password" id="newPassword" required placeholder="Mínimo 8 caracteres">
                            </div>
                            <div class="form-group">
                                <label for="confirmPassword">Confirmar contraseña</label>
                                <input type="password" id="confirmPassword" required placeholder="Repite la nueva contraseña">
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Cambiar contraseña</button>
                            <button type="button" id="cancelPasswordBtn" class="btn-secondary">Cancelar</button>
                        </div>
                        <p class="form-note">Recomendación: usa una contraseña segura con al menos 8 caracteres, incluyendo mayúsculas, minúsculas y números.</p>
                    </form>
                </section>
                <section id="my-clubs" class="form-section" style="display:none;">
                    <h2>Mis Clubes</h2>
                    <p class="subtitle">Aquí puedes ver los clubes a los que estás suscrito y gestionar tu membresía.</p>

                    <div id="clubs-list" class="clubs-container">
                        <p class="loading-message">Cargando clubes...</p>
                    </div>
                </section>

            </main>
        </div>
    </div>
<div id="notifications" class="notification-container"></div>
   <script type="module" src="../js/perfil.js"></script>
</body>
</html>