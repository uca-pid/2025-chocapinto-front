
<div id="modalComentarios" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(44,90,145,0.18); z-index:9999; justify-content:center; align-items:center; flex-direction:column;">
  <div class="comments-card">
    <span id="closeModalComentarios" style="position:absolute; top:10px; right:18px; font-size:2rem; cursor:pointer; color:#d63031; z-index:10;">&times;</span>
    <span class="title">Comentarios</span>
    <div class="comments">
      <div class="comment-react">
        <button>
          <svg fill="none" viewBox="0 0 24 24" height="16" width="16" xmlns="http://www.w3.org/2000/svg">
            <path fill="#707277" stroke-linecap="round" stroke-width="2" stroke="#707277" d="M19.4626 3.99415C16.7809 2.34923 14.4404 3.01211 13.0344 4.06801C12.4578 4.50096 12.1696 4.71743 12 4.71743C11.8304 4.71743 11.5422 4.50096 10.9656 4.06801C9.55962 3.01211 7.21909 2.34923 4.53744 3.99415C1.01807 6.15294 0.221721 13.2749 8.33953 19.2834C9.88572 20.4278 10.6588 21 12 21C13.3412 21 14.1143 20.4278 15.6605 19.2834C23.7783 13.2749 22.9819 6.15294 19.4626 3.99415Z"></path>
          </svg>
        </button>
        <hr>
        <span id="comments-count">0</span>
      </div>
      <div id="comentariosList" class="comment-container">
        <!-- Los comentarios se cargar√°n aqu√≠ din√°micamente -->
      </div>
    </div>
    <div class="text-box">
      <div class="box-container">
        <textarea id="nuevoComentario" placeholder="Escrib√≠ un comentario..."></textarea>
        <div>
          <div class="formatting">
            <button type="button">
              <svg fill="none" viewBox="0 0 24 24" height="16" width="16" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linejoin="round" stroke-linecap="round" stroke-width="2.5" stroke="#707277" d="M5 6C5 4.58579 5 3.87868 5.43934 3.43934C5.87868 3 6.58579 3 8 3H12.5789C15.0206 3 17 5.01472 17 7.5C17 9.98528 15.0206 12 12.5789 12H5V6Z" clip-rule="evenodd" fill-rule="evenodd"></path>
                <path stroke-linejoin="round" stroke-linecap="round" stroke-width="2.5" stroke="#707277" d="M12.4286 12H13.6667C16.0599 12 18 14.0147 18 16.5C18 18.9853 16.0599 21 13.6667 21H8C6.58579 21 5.87868 21 5.43934 20.5607C5 20.1213 5 19.4142 5 18V12"></path>
              </svg>
            </button>
            <button type="button">
              <svg fill="none" viewBox="0 0 24 24" height="16" width="16" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-width="2.5" stroke="#707277" d="M12 4H19"></path>
                <path stroke-linecap="round" stroke-width="2.5" stroke="#707277" d="M8 20L16 4"></path>
                <path stroke-linecap="round" stroke-width="2.5" stroke="#707277" d="M5 20H12"></path>
              </svg>
            </button>
            <button type="button">
              <svg fill="none" viewBox="0 0 24 24" height="16" width="16" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linejoin="round" stroke-linecap="round" stroke-width="2.5" stroke="#707277" d="M5.5 3V11.5C5.5 15.0899 8.41015 18 12 18C15.5899 18 18.5 15.0899 18.5 11.5V3"></path>
                <path stroke-linecap="round" stroke-width="2.5" stroke="#707277" d="M3 21H21"></path>
              </svg>
            </button>
            <button type="button">
              <svg fill="none" viewBox="0 0 24 24" height="16" width="16" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linejoin="round" stroke-linecap="round" stroke-width="2.5" stroke="#707277" d="M4 12H20"></path>
              <path stroke-linecap="round" stroke-width="2.5" stroke="#707277" d="M17.5 7.66667C17.5 5.08934 15.0376 3 12 3C8.96243 3 6.5 5.08934 6.5 7.66667C6.5 8.15279 6.55336 8.59783 6.6668 9M6 16.3333C6 18.9107 8.68629 21 12 21C15.3137 21 18 19.6667 18 16.3333C18 13.9404 16.9693 12.5782 14.9079 12"></path>
              </svg>
            </button>
            <button type="button">
              <svg fill="none" viewBox="0 0 24 24" height="16" width="16" xmlns="http://www.w3.org/2000/svg">
                <circle stroke-linejoin="round" stroke-linecap="round" stroke-width="2.5" stroke="#707277" r="10" cy="12" cx="12"></circle>
                <path stroke-linejoin="round" stroke-linecap="round" stroke-width="2.5" stroke="#707277" d="M8 15C8.91212 16.2144 10.3643 17 12 17C13.6357 17 15.0879 16.2144 16 15"></path>
                <path stroke-linejoin="round" stroke-linecap="round" stroke-width="3" stroke="#707277" d="M8.00897 9L8 9M16 9L15.991 9"></path>
              </svg>
            </button>
            <button type="submit" class="send" title="Send" id="enviarComentarioBtn">
              <svg fill="none" viewBox="0 0 24 24" height="18" width="18" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linejoin="round" stroke-linecap="round" stroke-width="2.5" stroke="#ffffff" d="M12 5L12 20"></path>
                <path stroke-linejoin="round" stroke-linecap="round" stroke-width="2.5" stroke="#ffffff" d="M7 9L11.2929 4.70711C11.6262 4.37377 11.7929 4.20711 12 4.20711C12.2071 4.20711 12.3738 4.37377 12.7071 4.70711L17 9"></path>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
    <!-- Modal para agregar libro -->
  <div id="modalLibro" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(44,90,145,0.18); z-index:100; backdrop-filter: blur(3px); justify-content:center; align-items:center; animation:fadeInBg 0.4s;">
  <div id="modalLibroBox" style=" width: 50%;background:#fff; max-width:500px; margin:8vh auto; padding:2.5rem; border-radius:20px; box-shadow:0 8px 32px #2c5a9140; position:relative; display:flex; flex-direction:column;">
    <h3 style="margin-bottom:1.5rem; color:#2c5a91; font-size:1.6rem; font-weight:700; text-align:center;">Agregar libro</h3>
    <form id="formLibro" style="width:100%; display:flex; flex-direction:column; gap:1.5rem;">
      <div>
        <label for="buscadorLibro" style="font-weight:600; color:#2c5a91;">Buscar libro</label>
        <input type="text" id="buscadorLibro" autocomplete="off" placeholder="T√≠tulo, autor..." style="width:100%; border-radius:8px; border:1px solid #eaf6ff; padding:0.7rem;">
        <div id="resultadosBusquedaLibro" style="width:100%; max-height:180px; overflow-y:auto; margin-top:0.5rem; border:1px solid #eaf6ff; border-radius:8px; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,0.1); padding:0.5rem;"></div>
      </div>
      <div>
        <label style="font-weight:600; color:#2c5a91;">Categor√≠as</label>
        <div id="categoriasContainer" style="display:grid; grid-template-columns:repeat(auto-fit, minmax(120px, 1fr)); gap:0.5rem; max-height:150px; overflow-y:auto; border:1px solid #eaf6ff; border-radius:8px; padding:0.5rem; background:#f9f9f9;"></div>
        <div id="crearCategoriaBox" style="margin-top:0.5rem; display:flex; gap:0.5rem;">
          <input type="text" id="nuevaCategoriaInput" placeholder="Nueva categor√≠a..." style="flex:1; border-radius:8px; border:1px solid #eaf6ff; padding:0.5rem;">
           <input type="hidden" id="tituloLibro">
            <input type="hidden" id="autorLibro">
            <input type="hidden" id="portadaLibro">
            <input type="hidden" id="idApiLibro">
          <button type="button" id="agregarCategoriaBtn" style="background:#5fa8e9; color:#fff; border:none; border-radius:8px; padding:0.5rem 1rem; font-weight:600; cursor:pointer;">Agregar</button>
        </div>
      </div>
      <button type="submit"  style="background:#0984e3; color:#fff; border:none; border-radius:8px; padding:0.8rem 1.2rem; font-weight:700; cursor:pointer; width:100%; box-shadow:0 2px 12px #0984e340; transition:background 0.2s;">Subir libro</button>
    </form>
    <button onclick="document.getElementById('modalLibro').style.display='none'" style="position:absolute; top:10px; right:10px; background:none; border:none; font-size:2rem; color:#d63031; cursor:pointer;">&times;</button>
    <div id="msgLibro" style="margin-top:1rem; text-align:center; color:#d63031;"></div>
  </div>
</div>
<!-- Modal de Ranking -->
<div id="modalRanking" class="modalRanking" style="display:none;">
  <div class="ranking-card">
    <button class="close-btn" onclick="document.getElementById('modalRanking').style.display='none'">&times;</button>
    
    <div class="ranking-header">
      <div class="ranking-icon">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M16 4v12l-4-2-4 2V4"/>
          <path d="M6 2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"/>
        </svg>
      </div>
      <h2>Ranking de Usuarios M√°s Activos</h2>
      <p class="ranking-subtitle">Usuarios con mayor actividad en el club</p>
    </div>

    <div class="ranking-content">
      <div id="rankingLoader" class="ranking-loader">
        <div class="spinner"></div>
        <p>Calculando ranking...</p>
      </div>
      
      <div id="rankingList" class="ranking-list" style="display:none;">
        <!-- Los usuarios del ranking se cargar√°n aqu√≠ -->
      </div>
      
      <div id="rankingEmpty" class="ranking-empty" style="display:none;">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <circle cx="11" cy="11" r="8"/>
          <path d="M21 21l-4.35-4.35"/>
        </svg>
        <h3>Sin actividad registrada</h3>
        <p>A√∫n no hay usuarios con comentarios o libros agregados en este club.</p>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Miembros -->
<div id="modalMiembros" class="modalMiembros" style="display:none;">
  <div class="members-card">
    <button class="close-btn" onclick="document.getElementById('modalMiembros').style.display='none'">&times;</button>
    
    <div class="members-header">
      <div class="members-icon">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
          <circle cx="9" cy="7" r="4"/>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
        </svg>
      </div>
      <h2>Miembros del Club</h2>
      <p class="members-subtitle">Todos los integrantes del club de lectura</p>
    </div>

    <div class="members-content">
      <div id="membersLoader" class="members-loader">
        <div class="spinner"></div>
        <p>Cargando miembros...</p>
      </div>
      
      <div id="membersList" class="members-list" style="display:none;">
        <!-- Los miembros se cargar√°n aqu√≠ -->
      </div>
      
      <div id="membersEmpty" class="members-empty" style="display:none;">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
          <circle cx="9" cy="7" r="4"/>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
        </svg>
        <h3>No hay miembros</h3>
        <p>A√∫n no hay miembros en este club.</p>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Solicitudes -->
<div id="modalSolicitudes" class="modalSolicitudes" style="display:none;">
  <div class="requests-card">
    <button class="close-btn" onclick="document.getElementById('modalSolicitudes').style.display='none'">&times;</button>
    
    <div class="requests-header">
      <div class="requests-icon">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
          <circle cx="8.5" cy="7" r="4"/>
          <path d="M17 11l2 2 4-4"/>
        </svg>
      </div>
      <h2>üì¨ Solicitudes Pendientes</h2>
      <p class="requests-subtitle">Usuarios que quieren unirse al club</p>
    </div>

    <div class="requests-content">
      <div id="requestsLoader" class="requests-loader">
        <div class="spinner"></div>
        <p>Cargando solicitudes...</p>
      </div>
      
      <div id="requestsList" class="requests-list" style="display:none;">
        <!-- Las solicitudes se cargar√°n aqu√≠ -->
      </div>
      
      <div id="requestsEmpty" class="requests-empty" style="display:none;">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
          <circle cx="8.5" cy="7" r="4"/>
          <path d="M17 11l2 2 4-4"/>
        </svg>
        <h3>No hay solicitudes pendientes</h3>
        <p>Cuando alguien solicite unirse al club, aparecer√°n aqu√≠.</p>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Historial -->
<div id="modalHistorial" class="modalHistorial" style="display:none;">
  <div class="historial-modal-card">
    <button class="close-btn" onclick="document.getElementById('modalHistorial').style.display='none'">&times;</button>
    
    <div class="historial-modal-header">
      <div class="historial-icon">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/>
          <polyline points="12,6 12,12 16,14"/>
        </svg>
      </div>
      <div class="header-content">
        <h2>üìö Historial Completo de Actividad</h2>
        <p class="historial-subtitle">Toda la actividad del club con filtros avanzados</p>
      </div>
      <button class="toggle-filters-btn" id="toggle-filters-btn" title="Mostrar/Ocultar Filtros">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="22,3 2,3 10,12.46 10,19 14,21 14,12.46"/>
        </svg>
        <span class="toggle-text">Filtros</span>
        <svg class="toggle-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="6,9 12,15 18,9"/>
        </svg>
      </button>
    </div>

    <!-- Filtros de historial -->
    <div class="historial-modal-filters" id="historial-modal-filters">
      <div class="filters-row">
        <div class="filter-group">
          <label for="modal-historial-estado-filter">Estado:</label>
          <select id="modal-historial-estado-filter" class="filter-select">
            <option value="">Todos los cambios</option>
            <option value="leido">üìñ Marcados como le√≠dos</option>
            <option value="leyendo">üìö Empezados a leer</option>
            <option value="por_leer">‚è≥ Agregados por leer</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="modal-historial-usuario-filter">Usuario:</label>
          <select id="modal-historial-usuario-filter" class="filter-select">
            <option value="">Todos los usuarios</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="modal-historial-periodo-filter">Per√≠odo:</label>
          <select id="modal-historial-periodo-filter" class="filter-select">
            <option value="">Todo el tiempo</option>
            <option value="semana">Esta semana</option>
            <option value="mes">Este mes</option>
            <option value="trimestre">√öltimos 3 meses</option>
            <option value="a√±o">Este a√±o</option>
          </select>
        </div>
      </div>
      
      <div class="filters-row">
        <div class="filter-group">
          <label for="modal-historial-desde">Desde:</label>
          <input type="date" id="modal-historial-desde" class="filter-input">
        </div>
        
        <div class="filter-group">
          <label for="modal-historial-hasta">Hasta:</label>
          <input type="date" id="modal-historial-hasta" class="filter-input">
        </div>
        
        <div class="filter-group">
          <button id="modal-limpiar-filtros-btn" class="action-btn secondary">
            üóëÔ∏è Limpiar Filtros
          </button>
        </div>
      </div>
    </div>

    <div class="historial-modal-content">
      <!-- Vista toggles -->
      <div class="view-toggles">
        <button class="view-toggle active" data-view="timeline">Timeline</button>
        <button class="view-toggle" data-view="list">Lista</button>
        <button class="view-toggle" data-view="stats">Estad√≠sticas</button>
      </div>

      <div id="historialModalLoader" class="historial-loader">
        <div class="spinner"></div>
        <p>Cargando historial completo...</p>
      </div>
      
      <div id="historialModalContent" class="historial-timeline-content" style="display:none;">
        <!-- El contenido del historial se cargar√° aqu√≠ -->
      </div>
      
      <div id="historialModalEmpty" class="historial-empty" style="display:none;">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <circle cx="12" cy="12" r="10"/>
          <polyline points="12,6 12,12 16,14"/>
        </svg>
        <h3>No hay actividad registrada</h3>
        <p>A√∫n no hay actividad en este club con los filtros seleccionados.</p>
      </div>
    </div>
  </div>
</div>

      <!-- Modal para ver gr√°fico -->
<div id="modalGrafico" class="chart-modal" style="display:none;">
      <div class="chart-modal-box">
        <div class="chart-header">
          <h3>üìä Distribuci√≥n de Libros por G√©nero</h3>
          <button id="closeModalGrafico" class="close-btn">&times;</button>
        </div>
        
        <div class="chart-filters">
          <label for="chart-estado-filter">Filtrar por estado:</label>
          <select id="chart-estado-filter" class="chart-filter-select">
            <option value="todos">üìö Todos los estados</option>
            <option value="por_leer">üìö Por leer</option>
            <option value="leyendo">üìñ Leyendo</option>
            <option value="leido">‚úÖ Le√≠do</option>
          </select>
        </div>
        
        <div class="chart-container">
          <canvas id="genreChart"></canvas>
        </div>
        
        <div class="chart-legend" id="chartLegend">
          
        </div>
      </div>
    </div>







<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Club de Lectura</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/clubstylesnew.css">
    <link rel="stylesheet" href="../css/componentes/notificaciones.css">
    <link rel="stylesheet" href="../css/componentes/loader.css">
    <link rel="stylesheet" href="../css/componentes/confirmacion.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<header class="main-header">
        <!-- Logo y t√≠tulo a la izquierda -->
        <div class="header-left">
            <a href="main.html" class="logo-section">
                <img src="../images/BooksyLogo.png" class="booksy-logo" alt="Booksy Logo">
            </a> 
            <div class="header-title">
                <div class="club-header-info">
                    <div class="club-image-header">
                        <img id="sidebar-club-imagen" src="" alt="Imagen del club" class="club-img-header">
                    </div>
                    <div class="club-text-header">
                        <span id="sidebar-club-name" class="club-name-header">Club de Lectura River</span>
                        <span class="club-subtitle" id="sidebar-club-description">Biblioteca digital</span>
                    </div>
                </div>
            </div>

            
        </div>
        
        <!-- Navegaci√≥n e iconos a la derecha -->
        <nav class="header-right">
            <button class="icon-btn notification-btn" id="notificationBtn" title="Notificaciones">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                </svg>
                <span class="notification-badge">1</span>
            </button>
            
            
            <button class="icon-btn settings-btn" id="settingsBtn" title="Configuraci√≥n">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1m15.5-2.5L19 12l-2.5 2.5M5 16.5L2.5 14 5 11.5"/>
                </svg>
            </button>
            <button class="icon-btn requests-btn" id="requestsBtn" title="Solicitudes" style="display: none;" onclick="mostrarSolicitudes()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                    <circle cx="8.5" cy="7" r="4"/>
                    <path d="M17 11l2 2 4-4"/>
                    </svg>
                    <span class="requests-badge" id="requestsBadge" style="display: none;">0</span>
                  </button>
                  </button>
            
            <!-- Botones de eliminar/salir del club -->
            <button class="icon-btn danger-btn" id="eliminarClubBtnHeader" title="Eliminar club" style="display: none;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="3,6 5,6 21,6"/>
                    <path d="M19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6"/>
                    <line x1="10" y1="11" x2="10" y2="17"/>
                    <line x1="14" y1="11" x2="14" y2="17"/>
                </svg>
            </button>
            
            <button class="icon-btn leave-btn" id="salirClubBtnHeader" title="Salir del club" style="display: none;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                    <polyline points="16,17 21,12 16,7"/>
                    <line x1="21" y1="12" x2="9" y2="12"/>
                </svg>
            </button>
            
            <div class="user-profile">
                <div class="user-avatar">
                    <span id="userInitials">.</span>
                </div>
                <div class="user-info">
                    <span class="username" id="usernameDisplay">Cargando...</span>
                    <span class="user-status">Miembro activo</span>
                </div>
            </div>
        </nav>
    </header>
   <main>
    

</div>
  <button class="volver-btn-fixed" onclick="window.location.href='main.html'">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M19 12H5"/>
      <path d="M12 19l-7-7 7-7"/>
    </svg>
    Volver
  </button>

  
  </div>
</div>

<div id="menuPrincipal" class="menu-section" style="display:none;">
  <div class="principal-container">
    <!-- Fila Superior: Estad√≠sticas + Gesti√≥n de Libros + Informaci√≥n del Club -->
    <div class="principal-top-row">
      <!-- Contenido Principal -->
      <div class="principal-main-content">
        <!-- Estad√≠sticas -->
        <div class="principal-stats-section">
          
          <div class="stats-modern-grid">
            <div class="stat-modern-card stat-blue">
              <div class="stat-modern-content">
                <div class="stat-modern-text">
                  <h3>Libros Le√≠dos</h3>
                  <div class="stat-modern-number" id="total-books">0</div>
                  <p class="stat-modern-subtitle">Epicamente</p>
                </div>
                <div class="stat-modern-icon">
                  <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
                  </svg>
                </div>
              </div>
            </div>
            
            <div class="stat-modern-card stat-teal">
              <div class="stat-modern-content">
                <div class="stat-modern-text">
                  <h3>Leyendo Ahora</h3>
                  <div class="stat-modern-number" id="reading-books">0</div>
                  <p class="stat-modern-subtitle">En progreso</p>
                </div>
                <div class="stat-modern-icon">
                  <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
                    <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
                  </svg>
                </div>
              </div>
            </div>
            
            <div class="stat-modern-card stat-blue">
              <div class="stat-modern-content">
                <div class="stat-modern-text">
                  <h3>Por Leer</h3>
                  <div class="stat-modern-number" id="pending-books">0</div>
                  <p class="stat-modern-subtitle">En lista</p>
                </div>
                <div class="stat-modern-icon">
                  <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <polyline points="12,6 12,12 16,14"/>
                  </svg>
                </div>
              </div>
            </div>
            
            <div class="stat-modern-card stat-teal">
              <div class="stat-modern-content">
                <div class="stat-modern-text">
                  <h3>Categor√≠as</h3>
                  <div class="stat-modern-number" id="total-categories">0</div>
                  <p class="stat-modern-subtitle">Diferentes g√©neros</p>
                </div>
                <div class="stat-modern-icon">
                  <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="7" height="7"/>
                    <rect x="14" y="3" width="7" height="7"/>
                    <rect x="14" y="14" width="7" height="7"/>
                    <rect x="3" y="14" width="7" height="7"/>
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div>
                <!-- Grid con Progreso de Lectura y Acciones R√°pidas -->
        <div class="progress-actions-grid">
          <!-- Progreso de Lectura -->
          <div class="reading-progress-card">
            <div class="progress-header">
              <h3 class="section-title">Progreso de Lectura</h3>
              <span class="active-books-count" id="active-books-count">3 libros activos</span>
            </div>
            <div class="progress-list" id="progress-list">
              <!-- Los libros en progreso se cargar√°n aqu√≠ din√°micamente -->
              <div class="progress-item-placeholder">
                <div class="book-thumbnail-placeholder">üìñ</div>
                <div class="book-info-placeholder">
                  <h4>Cargando libros en progreso...</h4>
                  <p>Autor</p>
                  <div class="progress-details">
                    <span>0 de 0 p√°ginas</span>
                    <span>0%</span>
                  </div>
                  <div class="progress-bar">
                    <div class="progress-fill" style="width: 0%"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Acciones R√°pidas -->
          <div class="quick-actions-card">
            <div class="quick-actions-header">
              <h3 class="section-title">Acciones R√°pidas</h3>
            </div>
            <div class="quick-actions-grid">
              <button class="quick-action-btn primary" onclick="mostrarModalAgregarLibro()">
                <div class="action-icon">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="5" x2="12" y2="19"/>
                    <line x1="5" y1="12" x2="19" y2="12"/>
                  </svg>
                </div>
                <span>Agregar Libro</span>
              </button>
              
              <button class="quick-action-btn secondary" onclick="alert('Funcion de votacion en desarrollo')">
                <div class="action-icon">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 11H7a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-2"/>
                    <polyline points="9,11 12,8 15,11"/>
                    <line x1="12" y1="8" x2="12" y2="21"/>
                  </svg>
                </div>
                <span>Votaciones</span>
              </button>
              
              <button class="quick-action-btn secondary" onclick="mostrarRanking()">
                <div class="action-icon">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16 4v12l-4-2-4 2V4"/>
                    <path d="M6 2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"/>
                  </svg>
                </div>
                <span>Ver Ranking</span>
              </button>
              
              <button class="quick-action-btn secondary" onclick="mostrarMiembros()">
                <div class="action-icon">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                    <circle cx="9" cy="7" r="4"/>
                    <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                  </svg>
                </div>
                <span>Miembros <span id="miembros-count" class="count-badge">0</span></span>
              </button>
            </div>
          </div>
        </div>

        <!-- Grid con Categor√≠as y Actividad Reciente -->
        <div class="categories-activity-grid">
          <!-- Secci√≥n de Categor√≠as -->
          <div class="categories-section-card">
            <div class="categories-header">
              <h3 class="section-title">Categor√≠as</h3>
              <button id="ver-grafico-btn" class="chart-btn">
               <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21.21 15.89A10 10 0 1 1 8 2.83"/>
                  <path d="M22 12A10 10 0 0 0 12 2v10z"/>
                </svg>
              </button>
            </div>
            <div class="categories-list" id="categories-display-list">
              <!-- Las categor√≠as se cargar√°n aqu√≠ din√°micamente -->
              <div class="category-item-display">
                <div class="category-info">
                  <span class="category-name">Cargando categor√≠as...</span>
                  <span class="category-count">0</span>
                </div>
                <div class="category-progress-bar">
                  <div class="category-progress-fill" style="width: 0%; background-color: #4a90e2;"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Secci√≥n de Actividad Reciente -->
          <div class="recent-activity-card">
            <div class="activity-header">
              <h3 class="section-title">Actividad Reciente</h3>
              <button class="ver-historial-btn" onclick="mostrarHistorialCompleto()">Ver Historial</button>
            </div>
            <div class="activity-list" id="recent-activity-list">
              <!-- Las actividades se cargar√°n aqu√≠ din√°micamente -->
              <div class="activity-item">
                <div class="activity-icon trophy">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/>
                    <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/>
                    <path d="M4 22h16"/>
                    <path d="M10 14.66V17c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.34"/>
                    <path d="M2 14h20v-2c0-4.4-3.6-8-8-8H10c-4.4 0-8 3.6-8 8v2z"/>
                  </svg>
                </div>
                <div class="activity-content">
                  <div class="activity-text">
                    <strong>Completaste</strong> 'Messi: El genio'
                  </div>
                  <div class="activity-time">Hace 2 horas</div>
                </div>
              </div>

              <div class="activity-item">
                <div class="activity-icon star">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/>
                  </svg>
                </div>
                <div class="activity-content">
                  <div class="activity-text">
                    <strong>Calificaste</strong> un libro con 5‚òÖ
                  </div>
                  <div class="activity-time">Hace 5 horas</div>
                </div>
              </div>

              <div class="activity-item">
                <div class="activity-icon book">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
                  </svg>
                </div>
                <div class="activity-content">
                  <div class="activity-text">
                    <strong>Comenzaste</strong> 'Todo Messi'
                  </div>
                  <div class="activity-time">Hace 1 d√≠a</div>
                </div>
              </div>

              <div class="activity-item">
                <div class="activity-icon user">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                    <circle cx="9" cy="7" r="4"/>
                    <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                  </svg>
                </div>
                <div class="activity-content">
                  <div class="activity-text">
                    <strong>Nuevo miembro</strong> en el club
                  </div>
                  <div class="activity-time">Hace 2 d√≠as</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        

    <!-- Biblioteca Reciente -->
    <div class="biblioteca-reciente-card">
      <div class="biblioteca-header">
        <div class="biblioteca-title-section">
          <h3 class="biblioteca-title">Biblioteca Reciente</h3>
          <span class="biblioteca-count" id="biblioteca-count">0 libros</span>
        </div>
        <a href="#" class="ver-todos-link" onclick="mostrarTodosLosLibros()">Ver todos</a>
      </div>
      <div class="search-filter-container">
        <div class="search-filter-row">
          <div class="search-box-modern">
            <div class="search-icon">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <path d="m21 21-4.35-4.35"/>
              </svg>
            </div>
            <input type="text" placeholder="Buscar por t√≠tulo, autor o categor√≠a..." id="search-books" class="search-input-modern">
            <button type="button" class="clear-search" id="clear-search" style="display: none;">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"/>
                <line x1="6" y1="6" x2="18" y2="18"/>
              </svg>
            </button>
          </div>
          
          <div class="estado-filter-modern">
            <select id="estado-filter" class="filter-select-modern">
              <option value="todos">üìö Todos los estados</option>
              <option value="por_leer">üìö Por leer</option>
              <option value="leyendo">üìñ Leyendo</option>
              <option value="leido">‚úÖ Completado</option>
            </select>
          </div>
          
      
      </div>
      <div class="biblioteca-grid-container">
        <!-- El filtro se insertar√° aqu√≠ din√°micamente por JavaScript -->
        <div id="libros-leidos-list" class="biblioteca-grid"></div>
        <div id="empty-state" class="empty-state" style="display:none;">
          <div class="empty-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
              <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
            </svg>
          </div>
          <h4>No hay libros a√∫n</h4>
          <p>Comienza agregando el primer libro al club</p>
        </div>
      </div>
    </div>
  </div>
</div>

  
</main>

<!-- Loader global -->
<div id="app-loader" class="loader-overlay" style="display: none;">
    <div class="loader-content">
        <div class="loader-spinner"></div>
        <p id="loader-message">Cargando...</p>
    </div>
</div>

<div id="notifications" class="notification-container"></div>
   <script src="../componentes/loader.js"></script>
   <script src="../componentes/notificacion.js"></script>
   <script type="module" src="../js/clubnew.js"></script>

</body>
</html>